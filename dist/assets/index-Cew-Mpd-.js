import{r as a,j as h}from"./index-n5lagw8Y.js";import{u as x,g as f,p as m,a as y,d as F}from"./globalFetcher-ChilYVpY.js";const S=a.createContext(void 0),L=({children:s})=>{const[d,v]=a.useState([]),[u,r]=a.useState(!0),[p,l]=a.useState(null),{data:i,isLoading:o,error:c,mutate:n}=x("/api/data/invoicedata",f);a.useEffect(()=>{i?(v(i.data),r(o)):c?(r(o),l(c)):r(o)},[i,c,o]);const g=async e=>{try{await n(F("/api/data/invoicedata/deleteinvoice",{invoiceId:e}))}catch(t){console.error("Error deleting invoice:",t)}},E=async e=>{try{await n(y("/api/data/invoicedata/addinvoice",e))}catch(t){console.error("Error adding invoice:",t)}},I=async e=>{try{await n(m("/api/data/invoicedata/updateinvoice",e))}catch(t){console.error("Error updating invoice:",t)}};return h.jsx(S.Provider,{value:{invoices:d,loading:u,error:p,deleteInvoice:g,addInvoice:E,updateInvoice:I},children:s})};export{S as I,L as a};
