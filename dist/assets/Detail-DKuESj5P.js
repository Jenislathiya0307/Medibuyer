import{r as u,u as I,j as t,L as N}from"./index-n5lagw8Y.js";import{F as C}from"./FullLogo-D6PRg_b9.js";import{I as E,a as F}from"./index-Cew-Mpd-.js";import{c as U,t as g,g as b,f as y}from"./toDate-qY-Vit60.js";import{B as M}from"./Badge-zDQe1ecK.js";import{T as B,a as k,b as x,c as Y,d as S,e as f}from"./TableRow-DNxHhbic.js";import{B as D}from"./Button-BChG-RMT.js";import{i as z,f as v}from"./format-Ci4P0HhW.js";import{C as L}from"./CardBox-DP5V6wyZ.js";import{B as O}from"./BreadcrumbComp-BUvza-Rs.js";import"./globalFetcher-ChilYVpY.js";import"./index-DAr7p5OD.js";import"./resolve-theme-BrLp9Ogr.js";import"./en-US-Bi_cwWVL.js";import"./chevron-right-icon-BGQVsHY5.js";function T(s,e){const i=()=>U(e?.in,NaN),n=Z(s);let r;if(n.date){const c=$(n.date,2);r=W(c.restDateString,c.year)}if(!r||isNaN(+r))return i();const d=+r;let l=0,o;if(n.time&&(l=A(n.time),isNaN(l)))return i();if(n.timezone){if(o=V(n.timezone),isNaN(o))return i()}else{const c=new Date(d+l),p=g(0,e?.in);return p.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),p.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),p}return g(d+l+o,e?.in)}const h={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},P=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,R=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,H=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Z(s){const e={},i=s.split(h.dateTimeDelimiter);let a;if(i.length>2)return e;if(/:/.test(i[0])?a=i[0]:(e.date=i[0],a=i[1],h.timeZoneDelimiter.test(e.date)&&(e.date=s.split(h.timeZoneDelimiter)[0],a=s.substr(e.date.length,s.length))),a){const n=h.timezone.exec(a);n?(e.time=a.replace(n[1],""),e.timezone=n[1]):e.time=a}return e}function $(s,e){const i=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),a=s.match(i);if(!a)return{year:NaN,restDateString:""};const n=a[1]?parseInt(a[1]):null,r=a[2]?parseInt(a[2]):null;return{year:r===null?n:r*100,restDateString:s.slice((a[1]||a[2]).length)}}function W(s,e){if(e===null)return new Date(NaN);const i=s.match(P);if(!i)return new Date(NaN);const a=!!i[4],n=m(i[1]),r=m(i[2])-1,d=m(i[3]),l=m(i[4]),o=m(i[5])-1;if(a)return K(e,l,o)?_(e,l,o):new Date(NaN);{const c=new Date(0);return!J(e,r,d)||!q(e,n)?new Date(NaN):(c.setUTCFullYear(e,r,Math.max(n,d)),c)}}function m(s){return s?parseInt(s):1}function A(s){const e=s.match(R);if(!e)return NaN;const i=j(e[1]),a=j(e[2]),n=j(e[3]);return Q(i,a,n)?i*b+a*y+n*1e3:NaN}function j(s){return s&&parseFloat(s.replace(",","."))||0}function V(s){if(s==="Z")return 0;const e=s.match(H);if(!e)return 0;const i=e[1]==="+"?-1:1,a=parseInt(e[2]),n=e[3]&&parseInt(e[3])||0;return X(a,n)?i*(a*b+n*y):NaN}function _(s,e,i){const a=new Date(0);a.setUTCFullYear(s,0,4);const n=a.getUTCDay()||7,r=(e-1)*7+i+1-n;return a.setUTCDate(a.getUTCDate()+r),a}const G=[31,null,31,30,31,30,31,31,30,31,30,31];function w(s){return s%400===0||s%4===0&&s%100!==0}function J(s,e,i){return e>=0&&e<=11&&i>=1&&i<=(G[e]||(w(s)?29:28))}function q(s,e){return e>=1&&e<=(w(s)?366:365)}function K(s,e,i){return e>=1&&e<=53&&i>=0&&i<=6}function Q(s,e,i){return s===24?e===0&&i===0:i>=0&&i<60&&e>=0&&e<60&&s>=0&&s<25}function X(s,e){return e>=0&&e<=59}const ee=()=>{const{invoices:s}=u.useContext(E),[e,i]=u.useState(null);u.useEffect(()=>{s.length>0&&i(s[0])},[s]);const r=I().pathname.split("/").pop();if(u.useEffect(()=>{if(r){const l=s.find(o=>o.billFrom===r);l&&i(l)}},[r,s]),!e)return t.jsx("div",{children:"Loading..."});const d=e.orderDate?z(T(e.orderDate))?v(T(e.orderDate),"EEEE, MMMM dd, yyyy"):"Invalid Date":v(new Date,"EEEE, MMMM dd, yyyy");return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"sm:flex justify-between items-start mb-6",children:[t.jsx(C,{}),t.jsxs("div",{className:"md:text-end md:mt-0 mt-5",children:[t.jsx(M,{color:"success",children:e.status}),t.jsxs("h3",{className:"items-center mt-1 text-xl",children:["# ",e.id]})]})]}),t.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[t.jsxs("div",{className:"md:col-span-6 col-span-12",children:[t.jsx("h6",{className:"text-base",children:"Bill From"}),t.jsxs("p",{children:[" ",e.billFrom]}),t.jsx("p",{children:e.billFromEmail}),t.jsx("p",{children:e.billFromAddress}),t.jsx("p",{children:e.billFromPhone})]}),t.jsx("div",{className:"md:col-span-6 col-span-12 flex md:justify-end",children:t.jsxs("div",{className:"md:text-right",children:[t.jsx("h6",{className:"text-base",children:"Bill To"}),t.jsxs("p",{children:[" ",e.billTo]}),t.jsxs("p",{children:[" ",e.billToEmail]}),t.jsx("p",{children:e.billToAddress}),t.jsx("p",{children:e.billToPhone}),t.jsxs("p",{children:["OrderDate:  ",d]})]})})]}),t.jsxs("div",{className:"overflow-x-auto",children:[t.jsxs(B,{hoverable:!0,children:[t.jsxs(k,{children:[t.jsx(x,{children:"Item Name"}),t.jsx(x,{children:"Unit Price"}),t.jsx(x,{children:"Unit"}),t.jsx(x,{className:"text-end",children:"Total Cost"})]}),t.jsx(Y,{className:"divide-y divide-border dark:divide-darkborder ",children:e.orders.map((l,o)=>t.jsxs(S,{children:[t.jsx(f,{className:"whitespace-nowrap ",children:t.jsx("h5",{className:"text-sm",children:l.itemName})}),t.jsx(f,{className:"text-ld",children:l.unitPrice}),t.jsx(f,{className:"text-ld",children:l.units}),t.jsx(f,{className:"text-end",children:t.jsx("h4",{className:"text-sm",children:l.unitTotalPrice})})]},o))})]}),t.jsxs("div",{className:"border-t border-ld  py-5 px-4",children:[t.jsx("div",{className:"flex justify-end mb-3",children:t.jsxs("div",{className:"flex gap-3 lg:w-1/5",children:[t.jsx("h2",{className:"max-w-52 w-full opacity-80",children:"Sub Total:"}),t.jsx("h3",{className:"ms-auto text-base",children:e.totalCost})]})}),t.jsx("div",{className:"flex justify-end mb-3",children:t.jsxs("div",{className:"flex gap-3 lg:w-1/5",children:[t.jsx("h2",{className:"max-w-52 w-full opacity-80",children:"Vat:"}),t.jsx("h3",{className:"ms-auto text-base",children:e.vat})]})}),t.jsx("div",{className:"flex justify-end",children:t.jsxs("div",{className:"flex gap-3 lg:w-1/5",children:[t.jsx("h2",{className:"max-w-52 w-full opacity-80",children:"Grand Total:"}),t.jsx("h3",{className:"ms-auto text-base",children:e.grandTotal})]})})]}),t.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[t.jsx(D,{color:"warning",children:t.jsx(N,{to:`/apps/invoice/edit/${e.billFrom}`,children:"Edit Invoice"})}),t.jsx(D,{color:"primary",children:t.jsx(N,{to:"/apps/invoice/list",children:"Back to Invoice List"})})]})]})]})},te=[{to:"/",title:"Home"},{title:"Invoice Details"}],je=()=>t.jsxs(F,{children:[t.jsx(O,{title:"Invoice Details",items:te}),t.jsx(L,{children:t.jsx(ee,{})})]});export{je as default};
