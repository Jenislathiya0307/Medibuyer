import{r as g,j as s,n as ge,p as y,o as pe}from"./index-n5lagw8Y.js";import{u as be,g as Q,r as fe}from"./resolve-theme-BrLp9Ogr.js";import{T as ye}from"./TextInput-BqV0c51w.js";const U=g.forwardRef((e,t)=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",stroke:"currentColor",strokeWidth:0,viewBox:"0 0 20 20",ref:t,...e,children:s.jsx("path",{fillRule:"evenodd",stroke:"none",d:"M9.707 16.707a1 1 0 0 1-1.414 0l-6-6a1 1 0 0 1 0-1.414l6-6a1 1 0 0 1 1.414 1.414L5.414 9H17a1 1 0 1 1 0 2H5.414l4.293 4.293a1 1 0 0 1 0 1.414z",clipRule:"evenodd"})}));U.displayName="ArrowLeftIcon";const X=g.forwardRef((e,t)=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",stroke:"currentColor",strokeWidth:0,viewBox:"0 0 20 20",ref:t,...e,children:s.jsx("path",{fillRule:"evenodd",stroke:"none",d:"M10.293 3.293a1 1 0 0 1 1.414 0l6 6a1 1 0 0 1 0 1.414l-6 6a1 1 0 0 1-1.414-1.414L14.586 11H3a1 1 0 1 1 0-2h11.586l-4.293-4.293a1 1 0 0 1 0-1.414z",clipRule:"evenodd"})}));X.displayName="ArrowRightIcon";const Z=g.forwardRef((e,t)=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",stroke:"currentColor",strokeWidth:0,viewBox:"0 0 20 20",ref:t,...e,children:s.jsx("path",{fillRule:"evenodd",stroke:"none",d:"M6 2a1 1 0 0 0-1 1v1H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2h-1V3a1 1 0 1 0-2 0v1H7V3a1 1 0 0 0-1-1zm0 5a1 1 0 0 0 0 2h8a1 1 0 1 0 0-2H6z",clipRule:"evenodd"})}));Z.displayName="CalendarIcon";const W=g.createContext(void 0);function L(){const e=g.useContext(W);if(!e)throw new Error("useDatePickerContext should be used within the DatePickerContext provider!");return e}var n=(e=>(e[e.Days=0]="Days",e[e.Months=1]="Months",e[e.Years=2]="Years",e[e.Decades=3]="Decades",e))(n||{}),ee=(e=>(e[e.Sunday=0]="Sunday",e[e.Monday=1]="Monday",e[e.Tuesday=2]="Tuesday",e[e.Wednesday=3]="Wednesday",e[e.Thursday=4]="Thursday",e[e.Friday=5]="Friday",e[e.Saturday=6]="Saturday",e))(ee||{});function I(e,t,r){const a=new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime();if(t&&r){const o=new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime(),u=new Date(r.getFullYear(),r.getMonth(),r.getDate()).getTime();return a>=o&&a<=u}if(t){const o=new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime();return a>=o}if(r){const o=new Date(r.getFullYear(),r.getMonth(),r.getDate()).getTime();return a<=o}return!0}function E(e,t){return e=new Date(e.getFullYear(),e.getMonth(),e.getDate()),t=new Date(t.getFullYear(),t.getMonth(),t.getDate()),e.getTime()===t.getTime()}function z(e,t,r){return I(e,t,r)||(t&&e<t?e=t:r&&e>r&&(e=r)),e}function we(e,t){const r=new Date(e.getFullYear(),e.getMonth(),1);let o=r.getDay()-t;return o<0&&(o+=7),_(r,-o)}function De(e,t){const r=[],a=new Date(0);a.setDate(a.getDate()-a.getDay()+t);const o=new Intl.DateTimeFormat(e,{weekday:"short"});for(let u=0;u<7;u++)r.push(o.format(_(a,u)));return r}function _(e,t){const r=new Date(e);return r.setDate(r.getDate()+t),r}function xe(e,t){const r=new Date(e);return r.setMonth(r.getMonth()+t),r}function F(e,t){const r=new Date(e);return r.setFullYear(r.getFullYear()+t),r}function V(e,t,r){let a={day:"numeric",month:"long",year:"numeric"};return r&&(a=r),new Intl.DateTimeFormat(e,a).format(t)}function R(e,t){const r=e.getFullYear();return Math.floor(r/t)*t}function ve(e,t){const r=e.getFullYear(),a=t+9;return r>=t&&r<=a}const ke=ge({root:{base:"relative"},popup:{root:{base:"absolute top-10 z-50 block pt-2",inline:"relative top-0 z-auto",inner:"inline-block rounded-lg bg-white p-4 shadow-lg dark:bg-gray-700"},header:{base:"",title:"px-2 py-3 text-center font-semibold text-gray-900 dark:text-white",selectors:{base:"mb-2 flex justify-between",button:{base:"rounded-lg bg-white px-5 py-2.5 text-sm font-semibold text-gray-900 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:bg-gray-700 dark:text-white dark:hover:bg-gray-600",prev:"",next:"",view:""}}},view:{base:"p-1"},footer:{base:"mt-2 flex space-x-2",button:{base:"w-full rounded-lg px-5 py-2 text-center text-sm font-medium focus:ring-4 focus:ring-primary-300",today:"bg-primary-700 text-white hover:bg-primary-800 dark:bg-primary-600 dark:hover:bg-primary-700",clear:"border border-gray-300 bg-white text-gray-900 hover:bg-gray-100 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:hover:bg-gray-600"}}},views:{days:{header:{base:"mb-1 grid grid-cols-7",title:"h-6 text-center text-sm font-medium leading-6 text-gray-500 dark:text-gray-400"},items:{base:"grid w-64 grid-cols-7",item:{base:"block flex-1 cursor-pointer rounded-lg border-0 text-center text-sm font-semibold leading-9 text-gray-900 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-600",selected:"bg-primary-700 text-white hover:bg-primary-600",disabled:"text-gray-500"}}},months:{items:{base:"grid w-64 grid-cols-4",item:{base:"block flex-1 cursor-pointer rounded-lg border-0 text-center text-sm font-semibold leading-9 text-gray-900 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-600",selected:"bg-primary-700 text-white hover:bg-primary-600",disabled:"text-gray-500"}}},years:{items:{base:"grid w-64 grid-cols-4",item:{base:"block flex-1 cursor-pointer rounded-lg border-0 text-center text-sm font-semibold leading-9 text-gray-900 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-600",selected:"bg-primary-700 text-white hover:bg-primary-600",disabled:"text-gray-500"}}},decades:{items:{base:"grid w-64 grid-cols-4",item:{base:"block flex-1 cursor-pointer rounded-lg border-0 text-center text-sm font-semibold leading-9 text-gray-900 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-600",selected:"bg-primary-700 text-white hover:bg-primary-600",disabled:"text-gray-500"}}}}});function te(){const{theme:e,weekStart:t,minDate:r,maxDate:a,filterDate:o,viewDate:u,selectedDate:p,changeSelectedDate:x,language:m}=L(),h=e.views.days,v=De(m,t),w=we(u,t);return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:h.header.base,children:v.map((i,c)=>s.jsx("span",{className:h.header.title,children:i},c))}),s.jsx("div",{className:h.items.base,children:[...Array(42)].map((i,c)=>{const l=_(w,c),b=V(m,l,{day:"numeric"}),k=p&&E(p,l),j=!I(l,r,a)||o&&!o(l,n.Days);return s.jsx("button",{disabled:j,type:"button",className:y(h.items.item.base,k&&h.items.item.selected,j&&h.items.item.disabled),onClick:()=>{j||x(l,!0)},children:b},c)})})]})}te.displayName="DatepickerViewsDays";function re(){const{theme:e,viewDate:t,selectedDate:r,minDate:a,maxDate:o,filterDate:u,setViewDate:p,setView:x}=L(),m=e.views.decades,h=R(t,100);return s.jsx("div",{className:m.items.base,children:[...Array(12)].map((v,w)=>{const i=h-10+w*10,c=new Date(t.getTime());c.setFullYear(i+t.getFullYear()%10);const l=new Date(i,0,1),b=F(l,9),k=r&&ve(r,i),j=!I(l,a,o)&&!I(b,a,o)||u&&!u(c,n.Decades);return s.jsx("button",{disabled:j,type:"button",className:y(m.items.item.base,k&&m.items.item.selected,j&&m.items.item.disabled),onClick:()=>{j||(r&&p(F(t,i-r.getFullYear())),x(n.Years))},children:i},w)})})}re.displayName="DatepickerViewsDecades";function ae(){const{theme:e,minDate:t,maxDate:r,filterDate:a,selectedDate:o,viewDate:u,language:p,setViewDate:x,setView:m}=L(),h=e.views.months;return s.jsx("div",{className:h.items.base,children:[...Array(12)].map((v,w)=>{const i=new Date;i.setMonth(w,1),i.setFullYear(u.getFullYear());const c=V(p,i,{month:"short"}),l=o&&E(o,i),b=!I(i,t,r)||a&&!a(i,n.Months);return s.jsx("button",{disabled:b,type:"button",className:y(h.items.item.base,l&&h.items.item.selected,b&&h.items.item.disabled),onClick:()=>{b||(x(i),m(n.Days))},children:c},w)})})}ae.displayName="DatepickerViewsMonth";function se(){const{theme:e,selectedDate:t,minDate:r,maxDate:a,filterDate:o,viewDate:u,setViewDate:p,setView:x}=L(),m=e.views.years;return s.jsx("div",{className:m.items.base,children:[...Array(12)].map((h,v)=>{const i=R(u,10)+v,c=new Date(u.getTime());c.setFullYear(i);const l=t&&E(t,c),b=!I(c,r,a)||o&&!o(c,n.Years);return s.jsx("button",{disabled:b,type:"button",className:y(m.items.item.base,l&&m.items.item.selected,b&&m.items.item.disabled),onClick:()=>{b||(p(c),x(n.Months))},children:i},v)})})}se.displayName="DatepickerViewsYears";const je=g.forwardRef((e,t)=>{const r=pe(),a=be([ke,r.theme?.datepicker,e.theme],[Q(r.clearTheme,"datepicker"),e.clearTheme],[Q(r.applyTheme,"datepicker"),e.applyTheme]),{title:o,open:u,inline:p=!1,autoHide:x=!0,showClearButton:m=!0,labelClearButton:h="Clear",showTodayButton:v=!0,labelTodayButton:w="Today",defaultValue:i,minDate:c,maxDate:l,filterDate:b,language:k="en",weekStart:j=ee.Sunday,className:ne,onChange:$,label:q,value:C,...oe}=fe(e,r.props?.datepicker),O=i?z(i,c,l):null,ie=g.useMemo(()=>i?z(i,c,l):new Date,[]),[G,P]=g.useState(u),[M,J]=g.useState(n.Days),[T,A]=g.useState(C??O),[D,N]=g.useState(C??ie),H=g.useRef(null),S=g.useRef(null);function B(d,f){A(d),(d===null||d)&&$&&$(d),x&&M===n.Days&&f==!0&&!p&&P(!1)}function ce(){B(O,!0),i&&N(i)}g.useImperativeHandle(t,()=>({focus(){H.current?.focus()},clear(){ce()}}));function le(d){switch(d){case n.Decades:return s.jsx(re,{});case n.Years:return s.jsx(se,{});case n.Months:return s.jsx(ae,{});case n.Days:default:return s.jsx(te,{})}}function de(){switch(M){case n.Days:return n.Months;case n.Months:return n.Years;case n.Years:return n.Decades}return M}function ue(){switch(M){case n.Decades:return`${R(D,100)-10} - ${R(D,100)+100}`;case n.Years:return`${R(D,10)} - ${R(D,10)+11}`;case n.Months:return V(k,D,{year:"numeric"});case n.Days:default:return V(k,D,{month:"long",year:"numeric"})}}function K(d,f,Y){switch(d){case n.Days:return new Date(xe(f,Y));case n.Months:return new Date(F(f,Y));case n.Years:return new Date(F(f,Y*10));case n.Decades:return new Date(F(f,Y*100));default:return new Date(F(f,Y*10))}}g.useEffect(()=>{const d=f=>{const Y=S?.current?.contains(f.target),he=H?.current?.contains(f.target);!Y&&!he&&P(!1)};return document.addEventListener("mousedown",d),()=>{document.removeEventListener("mousedown",d)}},[H,S,P]),g.useEffect(()=>{const d=C&&z(new Date(C),c,l),f=T&&z(new Date(T),c,l);f&&d&&!E(d,f)&&A(d),T==null&&A(O)},[C,A,N,T]);const me=C===null?q:V(k,T||new Date);return s.jsx(W.Provider,{value:{theme:a,language:k,minDate:c,maxDate:l,filterDate:b,weekStart:j,isOpen:G,setIsOpen:P,view:M,setView:J,viewDate:D,setViewDate:N,selectedDate:T,setSelectedDate:A,changeSelectedDate:B},children:s.jsxs("div",{className:y(a.root.base,ne),children:[!p&&s.jsx(ye,{theme:a.root.input,icon:Z,ref:H,onFocus:()=>{T&&!E(D,T)&&N(T),P(!0)},value:me,defaultValue:O?V(k,O):q,readOnly:!0,...oe}),(G||p)&&s.jsx("div",{ref:S,className:y(a.popup.root.base,p&&a.popup.root.inline),children:s.jsxs("div",{className:a.popup.root.inner,children:[s.jsxs("div",{className:a.popup.header.base,children:[o&&s.jsx("div",{className:a.popup.header.title,children:o}),s.jsxs("div",{className:a.popup.header.selectors.base,children:[s.jsx("button",{type:"button",className:y(a.popup.header.selectors.button.base,a.popup.header.selectors.button.prev),onClick:()=>N(K(M,D,-1)),children:s.jsx(U,{})}),s.jsx("button",{type:"button",className:y(a.popup.header.selectors.button.base,a.popup.header.selectors.button.view),onClick:()=>J(de()),children:ue()}),s.jsx("button",{type:"button",className:y(a.popup.header.selectors.button.base,a.popup.header.selectors.button.next),onClick:()=>N(K(M,D,1)),children:s.jsx(X,{})})]})]}),s.jsx("div",{className:a.popup.view.base,children:le(M)}),(m||v)&&s.jsxs("div",{className:a.popup.footer.base,children:[v&&s.jsx("button",{type:"button",className:y(a.popup.footer.button.base,a.popup.footer.button.today),onClick:()=>{const d=new Date;B(d,!0),N(d)},children:w}),m&&s.jsx("button",{type:"button",className:y(a.popup.footer.button.base,a.popup.footer.button.clear),onClick:()=>{B(null,!0)},children:h})]})]})})]})})});je.displayName="Datepicker";export{je as D};
