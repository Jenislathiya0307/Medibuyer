import{r as t,j as m}from"./index-n5lagw8Y.js";import{u as y,g as F,a as j,d as v}from"./globalFetcher-ChilYVpY.js";const L=t.createContext({}),D=({children:d})=>{const[k,l]=t.useState([]),[u,o]=t.useState(""),[T,p]=t.useState("total_tickets"),[g,r]=t.useState(!0),[h,S]=t.useState(null),{data:s,isLoading:a,error:c,mutate:n}=y("/api/data/ticket/TicketData",F);t.useEffect(()=>{s?(l(s.data),r(a)):(c&&S(c),r(a))},[s,c,a]);const f=async e=>{try{await n(v("/api/data/ticket/delete",{id:e}))}catch(i){console.error("Error deleting ticket:",i)}},x=e=>{o(e)},E=async e=>{try{await n(j("/api/data/ticket/add",e))}catch(i){console.error("Error adding ticket:",i)}};return m.jsx(L.Provider,{value:{tickets:k,error:h,loading:g,deleteTicket:f,setTicketSearch:o,searchTickets:x,ticketSearch:u,filter:T,setFilter:p,addTicket:E},children:d})};export{L as T,D as a};
