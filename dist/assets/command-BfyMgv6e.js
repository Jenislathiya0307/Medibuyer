import{B as ge,r as l,I as j,M as V,j as S,z as $}from"./index-n5lagw8Y.js";import{R as Ie,P as Re,O as Ne,a as je}from"./index-DnokdofL.js";import{u as F}from"./index-BtMSilTf.js";import{D as _e,b as Ae}from"./dialog-C3FRnXx1.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],$e=ge("Search",Me);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],gt=ge("User",De);var fe=1,Le=.9,qe=.8,Fe=.17,ee=.1,te=.999,Ke=.9999,Pe=.99,Ve=/[\\\/_+.#"@\[\(\{&]/,Oe=/[\\\/_+.#"@\[\(\{&]/g,Ue=/[\s-]/,he=/[\s-]/g;function ne(e,n,r,m,o,d,c){if(d===n.length)return o===e.length?fe:Pe;var f=`${o},${d}`;if(c[f]!==void 0)return c[f];for(var b=m.charAt(d),u=r.indexOf(b,o),v=0,g,I,k,R;u>=0;)g=ne(e,n,r,m,u+1,d+1,c),g>v&&(u===o?g*=fe:Ve.test(e.charAt(u-1))?(g*=qe,k=e.slice(o,u-1).match(Oe),k&&o>0&&(g*=Math.pow(te,k.length))):Ue.test(e.charAt(u-1))?(g*=Le,R=e.slice(o,u-1).match(he),R&&o>0&&(g*=Math.pow(te,R.length))):(g*=Fe,o>0&&(g*=Math.pow(te,u-o))),e.charAt(u)!==n.charAt(d)&&(g*=Ke)),(g<ee&&r.charAt(u-1)===m.charAt(d+1)||m.charAt(d+1)===m.charAt(d)&&r.charAt(u-1)!==m.charAt(d))&&(I=ne(e,n,r,m,u+1,d+2,c),I*ee>g&&(g=I*ee)),g>v&&(v=g),u=r.indexOf(b,u+1);return c[f]=v,v}function pe(e){return e.toLowerCase().replace(he," ")}function ze(e,n,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,ne(e,n,pe(e),pe(n),0,0,{})}var P='[cmdk-group=""]',re='[cmdk-group-items=""]',Be='[cmdk-group-heading=""]',be='[cmdk-item=""]',ve=`${be}:not([aria-disabled="true"])`,le="cmdk-item-select",L="data-value",Ge=(e,n,r)=>ze(e,n,r),xe=l.createContext(void 0),O=()=>l.useContext(xe),ye=l.createContext(void 0),ae=()=>l.useContext(ye),ke=l.createContext(void 0),we=l.forwardRef((e,n)=>{let r=q(()=>{var t,i;return{search:"",value:(i=(t=e.value)!=null?t:e.defaultValue)!=null?i:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),m=q(()=>new Set),o=q(()=>new Map),d=q(()=>new Map),c=q(()=>new Set),f=Ee(e),{label:b,children:u,value:v,onValueChange:g,filter:I,shouldFilter:k,loop:R,disablePointerSelection:G=!1,vimBindings:_=!0,...U}=e,H=F(),oe=F(),T=F(),A=l.useRef(null),x=rt();M(()=>{if(v!==void 0){let t=v.trim();r.current.value=t,w.emit()}},[v]),M(()=>{x(6,ie)},[]);let w=l.useMemo(()=>({subscribe:t=>(c.current.add(t),()=>c.current.delete(t)),snapshot:()=>r.current,setState:(t,i,s)=>{var a,p,h,C;if(!Object.is(r.current[t],i)){if(r.current[t]=i,t==="search")Y(),J(),x(1,X);else if(t==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let y=document.getElementById(T);y?y.focus():(a=document.getElementById(H))==null||a.focus()}if(x(7,()=>{var y;r.current.selectedItemId=(y=D())==null?void 0:y.id,w.emit()}),s||x(5,ie),((p=f.current)==null?void 0:p.value)!==void 0){let y=i??"";(C=(h=f.current).onValueChange)==null||C.call(h,y);return}}w.emit()}},emit:()=>{c.current.forEach(t=>t())}}),[]),W=l.useMemo(()=>({value:(t,i,s)=>{var a;i!==((a=d.current.get(t))==null?void 0:a.value)&&(d.current.set(t,{value:i,keywords:s}),r.current.filtered.items.set(t,ue(i,s)),x(2,()=>{J(),w.emit()}))},item:(t,i)=>(m.current.add(t),i&&(o.current.has(i)?o.current.get(i).add(t):o.current.set(i,new Set([t]))),x(3,()=>{Y(),J(),r.current.value||X(),w.emit()}),()=>{d.current.delete(t),m.current.delete(t),r.current.filtered.items.delete(t);let s=D();x(4,()=>{Y(),s?.getAttribute("id")===t&&X(),w.emit()})}),group:t=>(o.current.has(t)||o.current.set(t,new Set),()=>{d.current.delete(t),o.current.delete(t)}),filter:()=>f.current.shouldFilter,label:b||e["aria-label"],getDisablePointerSelection:()=>f.current.disablePointerSelection,listId:H,inputId:T,labelId:oe,listInnerRef:A}),[]);function ue(t,i){var s,a;let p=(a=(s=f.current)==null?void 0:s.filter)!=null?a:Ge;return t?p(t,r.current.search,i):0}function J(){if(!r.current.search||f.current.shouldFilter===!1)return;let t=r.current.filtered.items,i=[];r.current.filtered.groups.forEach(a=>{let p=o.current.get(a),h=0;p.forEach(C=>{let y=t.get(C);h=Math.max(y,h)}),i.push([a,h])});let s=A.current;K().sort((a,p)=>{var h,C;let y=a.getAttribute("id"),z=p.getAttribute("id");return((h=t.get(z))!=null?h:0)-((C=t.get(y))!=null?C:0)}).forEach(a=>{let p=a.closest(re);p?p.appendChild(a.parentElement===p?a:a.closest(`${re} > *`)):s.appendChild(a.parentElement===s?a:a.closest(`${re} > *`))}),i.sort((a,p)=>p[1]-a[1]).forEach(a=>{var p;let h=(p=A.current)==null?void 0:p.querySelector(`${P}[${L}="${encodeURIComponent(a[0])}"]`);h?.parentElement.appendChild(h)})}function X(){let t=K().find(s=>s.getAttribute("aria-disabled")!=="true"),i=t?.getAttribute(L);w.setState("value",i||void 0)}function Y(){var t,i,s,a;if(!r.current.search||f.current.shouldFilter===!1){r.current.filtered.count=m.current.size;return}r.current.filtered.groups=new Set;let p=0;for(let h of m.current){let C=(i=(t=d.current.get(h))==null?void 0:t.value)!=null?i:"",y=(a=(s=d.current.get(h))==null?void 0:s.keywords)!=null?a:[],z=ue(C,y);r.current.filtered.items.set(h,z),z>0&&p++}for(let[h,C]of o.current)for(let y of C)if(r.current.filtered.items.get(y)>0){r.current.filtered.groups.add(h);break}r.current.filtered.count=p}function ie(){var t,i,s;let a=D();a&&(((t=a.parentElement)==null?void 0:t.firstChild)===a&&((s=(i=a.closest(P))==null?void 0:i.querySelector(Be))==null||s.scrollIntoView({block:"nearest"})),a.scrollIntoView({block:"nearest"}))}function D(){var t;return(t=A.current)==null?void 0:t.querySelector(`${be}[aria-selected="true"]`)}function K(){var t;return Array.from(((t=A.current)==null?void 0:t.querySelectorAll(ve))||[])}function Q(t){let i=K()[t];i&&w.setState("value",i.getAttribute(L))}function Z(t){var i;let s=D(),a=K(),p=a.findIndex(C=>C===s),h=a[p+t];(i=f.current)!=null&&i.loop&&(h=p+t<0?a[a.length-1]:p+t===a.length?a[0]:a[p+t]),h&&w.setState("value",h.getAttribute(L))}function de(t){let i=D(),s=i?.closest(P),a;for(;s&&!a;)s=t>0?et(s,P):tt(s,P),a=s?.querySelector(ve);a?w.setState("value",a.getAttribute(L)):Z(t)}let ce=()=>Q(K().length-1),se=t=>{t.preventDefault(),t.metaKey?ce():t.altKey?de(1):Z(1)},me=t=>{t.preventDefault(),t.metaKey?Q(0):t.altKey?de(-1):Z(-1)};return l.createElement(j.div,{ref:n,tabIndex:-1,...U,"cmdk-root":"",onKeyDown:t=>{var i;(i=U.onKeyDown)==null||i.call(U,t);let s=t.nativeEvent.isComposing||t.keyCode===229;if(!(t.defaultPrevented||s))switch(t.key){case"n":case"j":{_&&t.ctrlKey&&se(t);break}case"ArrowDown":{se(t);break}case"p":case"k":{_&&t.ctrlKey&&me(t);break}case"ArrowUp":{me(t);break}case"Home":{t.preventDefault(),Q(0);break}case"End":{t.preventDefault(),ce();break}case"Enter":{t.preventDefault();let a=D();if(a){let p=new Event(le);a.dispatchEvent(p)}}}}},l.createElement("label",{"cmdk-label":"",htmlFor:W.inputId,id:W.labelId,style:lt},b),B(e,t=>l.createElement(ye.Provider,{value:w},l.createElement(xe.Provider,{value:W},t))))}),He=l.forwardRef((e,n)=>{var r,m;let o=F(),d=l.useRef(null),c=l.useContext(ke),f=O(),b=Ee(e),u=(m=(r=b.current)==null?void 0:r.forceMount)!=null?m:c?.forceMount;M(()=>{if(!u)return f.item(o,c?.id)},[u]);let v=Ce(o,d,[e.value,e.children,d],e.keywords),g=ae(),I=N(x=>x.value&&x.value===v.current),k=N(x=>u||f.filter()===!1?!0:x.search?x.filtered.items.get(o)>0:!0);l.useEffect(()=>{let x=d.current;if(!(!x||e.disabled))return x.addEventListener(le,R),()=>x.removeEventListener(le,R)},[k,e.onSelect,e.disabled]);function R(){var x,w;G(),(w=(x=b.current).onSelect)==null||w.call(x,v.current)}function G(){g.setState("value",v.current,!0)}if(!k)return null;let{disabled:_,value:U,onSelect:H,forceMount:oe,keywords:T,...A}=e;return l.createElement(j.div,{ref:V(d,n),...A,id:o,"cmdk-item":"",role:"option","aria-disabled":!!_,"aria-selected":!!I,"data-disabled":!!_,"data-selected":!!I,onPointerMove:_||f.getDisablePointerSelection()?void 0:G,onClick:_?void 0:R},e.children)}),Te=l.forwardRef((e,n)=>{let{heading:r,children:m,forceMount:o,...d}=e,c=F(),f=l.useRef(null),b=l.useRef(null),u=F(),v=O(),g=N(k=>o||v.filter()===!1?!0:k.search?k.filtered.groups.has(c):!0);M(()=>v.group(c),[]),Ce(c,f,[e.value,e.heading,b]);let I=l.useMemo(()=>({id:c,forceMount:o}),[o]);return l.createElement(j.div,{ref:V(f,n),...d,"cmdk-group":"",role:"presentation",hidden:g?void 0:!0},r&&l.createElement("div",{ref:b,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),B(e,k=>l.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},l.createElement(ke.Provider,{value:I},k))))}),We=l.forwardRef((e,n)=>{let{alwaysRender:r,...m}=e,o=l.useRef(null),d=N(c=>!c.search);return!r&&!d?null:l.createElement(j.div,{ref:V(o,n),...m,"cmdk-separator":"",role:"separator"})}),Je=l.forwardRef((e,n)=>{let{onValueChange:r,...m}=e,o=e.value!=null,d=ae(),c=N(u=>u.search),f=N(u=>u.selectedItemId),b=O();return l.useEffect(()=>{e.value!=null&&d.setState("search",e.value)},[e.value]),l.createElement(j.input,{ref:n,...m,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":b.listId,"aria-labelledby":b.labelId,"aria-activedescendant":f,id:b.inputId,type:"text",value:o?e.value:c,onChange:u=>{o||d.setState("search",u.target.value),r?.(u.target.value)}})}),Xe=l.forwardRef((e,n)=>{let{children:r,label:m="Suggestions",...o}=e,d=l.useRef(null),c=l.useRef(null),f=N(u=>u.selectedItemId),b=O();return l.useEffect(()=>{if(c.current&&d.current){let u=c.current,v=d.current,g,I=new ResizeObserver(()=>{g=requestAnimationFrame(()=>{let k=u.offsetHeight;v.style.setProperty("--cmdk-list-height",k.toFixed(1)+"px")})});return I.observe(u),()=>{cancelAnimationFrame(g),I.unobserve(u)}}},[]),l.createElement(j.div,{ref:V(d,n),...o,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":f,"aria-label":m,id:b.listId},B(e,u=>l.createElement("div",{ref:V(c,b.listInnerRef),"cmdk-list-sizer":""},u)))}),Ye=l.forwardRef((e,n)=>{let{open:r,onOpenChange:m,overlayClassName:o,contentClassName:d,container:c,...f}=e;return l.createElement(Ie,{open:r,onOpenChange:m},l.createElement(Re,{container:c},l.createElement(Ne,{"cmdk-overlay":"",className:o}),l.createElement(je,{"aria-label":e.label,"cmdk-dialog":"",className:d},l.createElement(we,{ref:n,...f}))))}),Qe=l.forwardRef((e,n)=>N(r=>r.filtered.count===0)?l.createElement(j.div,{ref:n,...e,"cmdk-empty":"",role:"presentation"}):null),Ze=l.forwardRef((e,n)=>{let{progress:r,children:m,label:o="Loading...",...d}=e;return l.createElement(j.div,{ref:n,...d,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":o},B(e,c=>l.createElement("div",{"aria-hidden":!0},c)))}),E=Object.assign(we,{List:Xe,Item:He,Input:Je,Group:Te,Separator:We,Dialog:Ye,Empty:Qe,Loading:Ze});function et(e,n){let r=e.nextElementSibling;for(;r;){if(r.matches(n))return r;r=r.nextElementSibling}}function tt(e,n){let r=e.previousElementSibling;for(;r;){if(r.matches(n))return r;r=r.previousElementSibling}}function Ee(e){let n=l.useRef(e);return M(()=>{n.current=e}),n}var M=typeof window>"u"?l.useEffect:l.useLayoutEffect;function q(e){let n=l.useRef();return n.current===void 0&&(n.current=e()),n}function N(e){let n=ae(),r=()=>e(n.snapshot());return l.useSyncExternalStore(n.subscribe,r,r)}function Ce(e,n,r,m=[]){let o=l.useRef(),d=O();return M(()=>{var c;let f=(()=>{var u;for(let v of r){if(typeof v=="string")return v.trim();if(typeof v=="object"&&"current"in v)return v.current?(u=v.current.textContent)==null?void 0:u.trim():o.current}})(),b=m.map(u=>u.trim());d.value(e,f,b),(c=n.current)==null||c.setAttribute(L,f),o.current=f}),o}var rt=()=>{let[e,n]=l.useState(),r=q(()=>new Map);return M(()=>{r.current.forEach(m=>m()),r.current=new Map},[e]),(m,o)=>{r.current.set(m,o),n({})}};function nt(e){let n=e.type;return typeof n=="function"?n(e.props):"render"in n?n.render(e.props):e}function B({asChild:e,children:n},r){return e&&l.isValidElement(n)?l.cloneElement(nt(n),{ref:n.ref},r(n.props.children)):r(n)}var lt={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Se=l.forwardRef(({className:e,...n},r)=>S.jsx(E,{ref:r,className:$("flex h-full w-full flex-col overflow-hidden rounded-md bg-white dark:bg-darkgray text-ld",e),...n}));Se.displayName=E.displayName;const ht=({children:e,...n})=>S.jsx(_e,{...n,children:S.jsx(Ae,{className:"overflow-hidden p-0 shadow-lg",children:S.jsx(Se,{className:"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:e})})}),at=l.forwardRef(({className:e,...n},r)=>S.jsxs("div",{className:"flex items-center border-b border-ld px-3","cmdk-input-wrapper":"",children:[S.jsx($e,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),S.jsx(E.Input,{ref:r,className:$("flex h-11 w-full rounded-md bg-transparent focus:outline-hidden py-3 text-sm outline-hidden placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50 border-none focus:ring-0",e),...n})]}));at.displayName=E.Input.displayName;const ot=l.forwardRef(({className:e,...n},r)=>S.jsx(E.List,{ref:r,className:$("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...n}));ot.displayName=E.ListdisplayName;const ut=l.forwardRef((e,n)=>S.jsx(E.Empty,{ref:n,className:"py-6 text-center text-sm",...e}));ut.displayName=E.Empty.displayName;const it=l.forwardRef(({className:e,...n},r)=>S.jsx(E.Group,{ref:r,className:$("overflow-hidden p-1 text-ld [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...n}));it.displayName=E.Group.displayName;const dt=l.forwardRef(({className:e,...n},r)=>S.jsx(E.Separator,{ref:r,className:$("-mx-1 h-px bg-border dark:bg-darkborder",e),...n}));dt.displayName=E.Separator.displayName;const ct=l.forwardRef(({className:e,...n},r)=>S.jsx(E.Item,{ref:r,className:$("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-hidden data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...n}));ct.displayName=E.Item.displayName;const st=({className:e,...n})=>S.jsx("span",{className:$("ml-auto text-xs tracking-widest text-muted-foreground",e),...n});st.displayName="CommandShortcut";export{Se as C,gt as U,at as a,ot as b,ut as c,it as d,ct as e,dt as f,st as g,ht as h};
