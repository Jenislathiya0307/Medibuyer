import{r as o,R as a,y as $}from"./index-n5lagw8Y.js";import{p as O,m as P,Y as j,a as I,K as S}from"./render-D9E-06xR.js";import{a as F,l as N}from"./disabled-CIuDn_DF.js";import{f as d,s as m}from"./hidden-C2xwWGhP.js";import{V as T,f as x}from"./label-9sDPupFE.js";import{H}from"./description-CMFfDl8O.js";function E(r={},t=null,e=[]){for(let[l,n]of Object.entries(r))b(e,y(t,l),n);return e}function y(r,t){return r?r+"["+t+"]":t}function b(r,t,e){if(Array.isArray(e))for(let[l,n]of e.entries())b(r,y(t,l.toString()),n);else e instanceof Date?r.push([t,e.toISOString()]):typeof e=="boolean"?r.push([t,e?"1":"0"]):typeof e=="string"?r.push([t,e]):typeof e=="number"?r.push([t,`${e}`]):e==null?r.push([t,""]):C(e)&&!o.isValidElement(e)&&E(e,t,r)}function Y(r){var t,e;let l=(t=r?.form)!=null?t:r.closest("form");if(l){for(let n of l.elements)if(n!==r&&(n.tagName==="INPUT"&&n.type==="submit"||n.tagName==="BUTTON"&&n.type==="submit"||n.nodeName==="INPUT"&&n.type==="image")){n.click();return}(e=l.requestSubmit)==null||e.call(l)}}function C(r){if(Object.prototype.toString.call(r)!=="[object Object]")return!1;let t=Object.getPrototypeOf(r);return t===null||Object.getPrototypeOf(t)===null}let h=o.createContext(null);function R(r){let[t,e]=o.useState(null);return a.createElement(h.Provider,{value:{target:t}},r.children,a.createElement(d,{features:m.Hidden,ref:e}))}function U({children:r}){let t=o.useContext(h);if(!t)return a.createElement(a.Fragment,null,r);let{target:e}=t;return e?$.createPortal(a.createElement(a.Fragment,null,r),e):null}function _({data:r,form:t,disabled:e,onReset:l,overrides:n}){let[f,s]=o.useState(null),c=O();return o.useEffect(()=>{if(l&&f)return c.addEventListener(f,"reset",l)},[f,t,l]),a.createElement(U,null,a.createElement(k,{setForm:s,formId:t}),E(r).map(([u,i])=>a.createElement(d,{features:m.Hidden,...P({key:u,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:t,disabled:e,name:u,value:i,...n})})))}function k({setForm:r,formId:t}){return o.useEffect(()=>{if(t){let e=document.getElementById(t);e&&r(e)}},[r,t]),t?null:a.createElement(d,{features:m.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:e=>{if(!e)return;let l=e.closest("form");l&&r(l)}})}let A="div";function B(r,t){let e=`headlessui-control-${o.useId()}`,[l,n]=T(),[f,s]=H(),c=F(),{disabled:u=c||!1,...i}=r,p=I({disabled:u}),g={ref:t,disabled:u||void 0,"aria-disabled":u||void 0},v=S();return a.createElement(N,{value:u},a.createElement(n,{value:l},a.createElement(s,{value:f},a.createElement(x,{id:e},v({ourProps:g,theirProps:{...i,children:a.createElement(R,null,typeof i.children=="function"?i.children(p):i.children)},slot:p,defaultTag:A,name:"Field"})))))}let w=j(B);export{w as W,Y as g,_ as j};
